Login.razor
 
@page "/"
@rendermode InteractiveServer
@using System.ComponentModel.DataAnnotations
@using Microsoft.AspNetCore.Components.Forms
@inject NavigationManager Navigation
@inject IJSRuntime JS
 
<h3>Login</h3>
 
<EditForm Model="@login"
          OnValidSubmit="@HandleValidSubmit"
          FormName="LoginForm"
          EnableEnhancedForm="false">
    <DataAnnotationsValidator />
    @* <ValidationSummary /> *@
 
    <div class="form-container">
        <label>Username:</label><br />
        <InputText @bind-Value="login.USERNAME" class="form-control" />
        <ValidationMessage For="@(() => login.USERNAME)" />
        <br />
 
        <label>Password:</label><br />
        <InputText @bind-Value="login.PASSWORD" class="form-control" type="password" />
        <ValidationMessage For="@(() => login.PASSWORD)" />
        <br />
 
        <button type="submit">Login</button>
        <p>
        <a href="/Signup" class="btn btn-link">Sign up</a>
        </p>
 
    </div>
</EditForm>
 
@code {
    private LoginModel login = new();
 
    private async  void HandleValidSubmit()
    {
      var savedUsername = await JS.InvokeAsync<string>("localStorage.getItem", "username");
        var savedPassword = await JS.InvokeAsync<string>("localStorage.getItem", "password");
 
        if (login.USERNAME == savedUsername && login.PASSWORD == savedPassword)
        {
            Navigation.NavigateTo("/home");
        }
        else
        {
            // Show error or validation message (e.g., invalid credentials)
            await JS.InvokeVoidAsync("alert", "Invalid username or password.");
        }
    }
 
    public class LoginModel
    {
        [Required(ErrorMessage = "Username is required")]
        public string USERNAME { get; set; } = string.Empty;
 
        [Required(ErrorMessage = "Password is required")]
        public string PASSWORD { get; set; } = string.Empty;
    }
}
 
Signup.razor
 
@page "/Signup"
@rendermode InteractiveServer
@using System.ComponentModel.DataAnnotations
@using Microsoft.AspNetCore.Components.Forms
@inject NavigationManager Navigation
@inject IJSRuntime JS
 
<h3>Sign Up</h3>
 
<EditForm Model="@signup" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
 
    <div class="form-container">
        <label>Username:</label><br />
        <InputText @bind-Value="signup.USERNAME" class="form-control" />
        <ValidationMessage For="@(() => signup.USERNAME)" />
        <br />
 
        <label>Password:</label><br />
        <InputText @bind-Value="signup.PASSWORD" type="password" class="form-control" />
        <ValidationMessage For="@(() => signup.PASSWORD)" />
        <br />
 
        <button type="submit">Sign Up</button>
        <a href="/" class="secondary-button">Back to Login</a>
    </div>
</EditForm>
 
@code {
    private SignupModel signup = new();
 
    private async Task HandleValidSubmit()
    {
        await JS.InvokeVoidAsync("localStorage.setItem", "username", signup.USERNAME);
        await JS.InvokeVoidAsync("localStorage.setItem", "password", signup.PASSWORD);
 
        Navigation.NavigateTo("/");
    }
 
    public class SignupModel
    {
        [Required(ErrorMessage = "Username is required")]
        public string USERNAME { get; set; } = string.Empty;
 
        [Required(ErrorMessage = "Password is required")]
        public string PASSWORD { get; set; } = string.Empty;
    }
}